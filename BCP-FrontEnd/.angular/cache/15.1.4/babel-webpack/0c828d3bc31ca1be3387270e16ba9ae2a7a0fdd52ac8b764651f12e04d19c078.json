{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { FormControl, Validators } from \"@angular/forms\";\nlet AuthComponent = class AuthComponent {\n  constructor(route, router, usuarioService, fb) {\n    this.route = route;\n    this.router = router;\n    this.usuarioService = usuarioService;\n    this.fb = fb;\n    this.authType = '';\n    this.title = '';\n    this.buttonText = '';\n    this.authForm = this.fb.group({\n      'correo': ['', [Validators.required, Validators.email]],\n      'password': ['', [Validators.required]]\n    });\n  }\n  ngOnInit() {\n    this.route.url.subscribe(data => {\n      this.authType = data[data.length - 1].path;\n      this.title = this.authType === \"login\" ? \"Login\" : \"Crear Cuenta\";\n      this.buttonText = this.authType === \"login\" ? \"Ingresar\" : \"Crear Cuenta\";\n      if (this.authType === \"register\") {\n        this.authForm.controls['correo'].addValidators([Validators.minLength(10), Validators.maxLength(50)]);\n        this.authForm.controls['password'].addValidators([Validators.minLength(8), Validators.maxLength(32)]);\n        this.authForm.addControl(\"nombreCompleto\", new FormControl('', [Validators.required, Validators.minLength(8), Validators.maxLength(50)]));\n      }\n    });\n  }\n  submitForm() {\n    const credentials = this.authForm.value;\n    if (this.authForm.invalid) return;\n    this.usuarioService.attemptAuth(this.authType, credentials).subscribe({\n      next: response => {\n        this.router.navigateByUrl('/');\n      }\n    });\n  }\n};\nAuthComponent = __decorate([Component({\n  selector: 'app-auth',\n  templateUrl: './auth.component.html',\n  styleUrls: ['./auth.component.css']\n})], AuthComponent);\nexport { AuthComponent };","map":{"version":3,"mappings":";AAAA,SAAQA,SAAS,QAAe,eAAe;AAG/C,SAAqBC,WAAW,EAAaC,UAAU,QAAO,gBAAgB;AAOvE,IAAMC,aAAa,GAAnB,MAAMA,aAAa;EAOxBC,YACmBC,KAAqB,EACrBC,MAAc,EACdC,cAA8B,EAC9BC,EAAe;IAHf,UAAK,GAALH,KAAK;IACL,WAAM,GAANC,MAAM;IACN,mBAAc,GAAdC,cAAc;IACd,OAAE,GAAFC,EAAE;IATrB,aAAQ,GAAW,EAAE;IACrB,UAAK,GAAW,EAAE;IAClB,eAAU,GAAW,EAAE;IASrB,IAAI,CAACC,QAAQ,GAAG,IAAI,CAACD,EAAE,CAACE,KAAK,CAAC;MAC5B,QAAQ,EAAE,CAAC,EAAE,EAAE,CAACR,UAAU,CAACS,QAAQ,EAAET,UAAU,CAACU,KAAK,CAAC,CAAC;MACvD,UAAU,EAAE,CAAC,EAAE,EAAE,CAACV,UAAU,CAACS,QAAQ,CAAC;KACvC,CAAC;EACJ;EAEAE,QAAQ;IACN,IAAI,CAACR,KAAK,CAACS,GAAG,CAACC,SAAS,CAACC,IAAI,IAAG;MAC9B,IAAI,CAACC,QAAQ,GAAGD,IAAI,CAACA,IAAI,CAACE,MAAM,GAAG,CAAC,CAAC,CAACC,IAAI;MAC1C,IAAI,CAACC,KAAK,GAAG,IAAI,CAACH,QAAQ,KAAK,OAAO,GAAG,OAAO,GAAG,cAAc;MACjE,IAAI,CAACI,UAAU,GAAG,IAAI,CAACJ,QAAQ,KAAK,OAAO,GAAG,UAAU,GAAG,cAAc;MACzE,IAAI,IAAI,CAACA,QAAQ,KAAK,UAAU,EAAE;QAChC,IAAI,CAACR,QAAQ,CAACa,QAAQ,CAAC,QAAQ,CAAC,CAACC,aAAa,CAAC,CAC7CrB,UAAU,CAACsB,SAAS,CAAC,EAAE,CAAC,EACxBtB,UAAU,CAACuB,SAAS,CAAC,EAAE,CAAC,CACzB,CAAC;QAEF,IAAI,CAAChB,QAAQ,CAACa,QAAQ,CAAC,UAAU,CAAC,CAACC,aAAa,CAAC,CAC/CrB,UAAU,CAACsB,SAAS,CAAC,CAAC,CAAC,EACvBtB,UAAU,CAACuB,SAAS,CAAC,EAAE,CAAC,CACzB,CAAC;QAEF,IAAI,CAAChB,QAAQ,CAACiB,UAAU,CAAC,gBAAgB,EAAE,IAAIzB,WAAW,CAAC,EAAE,EAAE,CAC7DC,UAAU,CAACS,QAAQ,EACnBT,UAAU,CAACsB,SAAS,CAAC,CAAC,CAAC,EACvBtB,UAAU,CAACuB,SAAS,CAAC,EAAE,CAAC,CACzB,CAAC,CAAC;;IAGP,CAAC,CAAC;EACJ;EAEAE,UAAU;IACR,MAAMC,WAAW,GAAG,IAAI,CAACnB,QAAQ,CAACoB,KAAK;IACvC,IAAI,IAAI,CAACpB,QAAQ,CAACqB,OAAO,EACvB;IAEF,IAAI,CAACvB,cAAc,CAChBwB,WAAW,CAAC,IAAI,CAACd,QAAQ,EAAEW,WAAW,CAAC,CACvCb,SAAS,CAAC;MACPiB,IAAI,EAAGC,QAAQ,IAAI;QACjB,IAAI,CAAC3B,MAAM,CAAC4B,aAAa,CAAC,GAAG,CAAC;MAChC;KACD,CACF;EACL;CAED;AA5DY/B,aAAa,eALzBH,SAAS,CAAC;EACTmC,QAAQ,EAAE,UAAU;EACpBC,WAAW,EAAE,uBAAuB;EACpCC,SAAS,EAAE,CAAC,sBAAsB;CACnC,CAAC,GACWlC,aAAa,CA4DzB;SA5DYA,aAAa","names":["Component","FormControl","Validators","AuthComponent","constructor","route","router","usuarioService","fb","authForm","group","required","email","ngOnInit","url","subscribe","data","authType","length","path","title","buttonText","controls","addValidators","minLength","maxLength","addControl","submitForm","credentials","value","invalid","attemptAuth","next","response","navigateByUrl","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["F:\\Development\\Technical Test\\BCP\\BCP-FrontEnd\\src\\app\\auth\\pages\\auth.component.ts"],"sourcesContent":["import {Component, OnInit} from '@angular/core';\nimport {UsuarioService} from \"../../core\";\nimport {ActivatedRoute, Router} from \"@angular/router\";\nimport {FormBuilder, FormControl, FormGroup, Validators} from \"@angular/forms\";\n\n@Component({\n  selector: 'app-auth',\n  templateUrl: './auth.component.html',\n  styleUrls: ['./auth.component.css']\n})\nexport class AuthComponent implements OnInit {\n\n  authType: string = ''\n  title: string = ''\n  buttonText: string = ''\n  authForm: FormGroup\n\n  constructor(\n    private readonly route: ActivatedRoute,\n    private readonly router: Router,\n    private readonly usuarioService: UsuarioService,\n    private readonly fb: FormBuilder\n  ) {\n    this.authForm = this.fb.group({\n      'correo': ['', [Validators.required, Validators.email]],\n      'password': ['', [Validators.required]]\n    });\n  }\n\n  ngOnInit(): void {\n    this.route.url.subscribe(data => {\n      this.authType = data[data.length - 1].path\n      this.title = this.authType === \"login\" ? \"Login\" : \"Crear Cuenta\"\n      this.buttonText = this.authType === \"login\" ? \"Ingresar\" : \"Crear Cuenta\"\n      if (this.authType === \"register\") {\n        this.authForm.controls['correo'].addValidators([\n          Validators.minLength(10),\n          Validators.maxLength(50)\n        ])\n\n        this.authForm.controls['password'].addValidators([\n          Validators.minLength(8),\n          Validators.maxLength(32),\n        ])\n\n        this.authForm.addControl(\"nombreCompleto\", new FormControl('', [\n          Validators.required,\n          Validators.minLength(8),\n          Validators.maxLength(50)\n        ]))\n\n      }\n    })\n  }\n\n  submitForm(): void {\n    const credentials = this.authForm.value\n    if (this.authForm.invalid)\n      return\n\n    this.usuarioService\n      .attemptAuth(this.authType, credentials)\n      .subscribe({\n          next: (response) => {\n            this.router.navigateByUrl('/')\n          }\n        }\n      );\n  }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}