{"ast":null,"code":"import { environment } from '../../../environments/enviroment';\nimport { HttpParams } from '@angular/common/http';\nimport { catchError, map } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"./swal.service\";\nexport class ApiService {\n  constructor(http, swal) {\n    this.http = http;\n    this.swal = swal;\n  }\n  get(path, params = new HttpParams()) {\n    return this.http.get(`${environment.api_url}${path}`, {\n      params\n    }).pipe(catchError(this.swal.showErrors)).pipe(map(response => {\n      this.swal.showMessage(response);\n      return response.data;\n    }));\n  }\n  put(path, body = {}) {\n    return this.http.put(`${environment.api_url}${path}`, JSON.stringify(body)).pipe(catchError(this.swal.showErrors)).pipe(map(response => {\n      this.swal.showMessage(response);\n      return response.data;\n    }));\n  }\n  post(path, body = {}) {\n    return this.http.post(`${environment.api_url}${path}`, JSON.stringify(body)).pipe(catchError(this.swal.showErrors)).pipe(map(response => {\n      this.swal.showMessage(response);\n      return response.data;\n    }));\n  }\n  delete(path) {\n    return this.http.delete(`${environment.api_url}${path}`).pipe(catchError(this.swal.showErrors)).pipe(map(response => {\n      this.swal.showMessage(response);\n      return response.data;\n    }));\n  }\n}\nApiService.ɵfac = function ApiService_Factory(t) {\n  return new (t || ApiService)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(i2.SwalService));\n};\nApiService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: ApiService,\n  factory: ApiService.ɵfac\n});","map":{"version":3,"mappings":"AACA,SAAQA,WAAW,QAAO,kCAAkC;AAC5D,SAAoBC,UAAU,QAAO,sBAAsB;AAC3D,SAAQC,UAAU,EAAEC,GAAG,QAAmB,MAAM;;;;AAKhD,OAAM,MAAOC,UAAU;EACrBC,YACmBC,IAAgB,EAChBC,IAAiB;IADjB,SAAI,GAAJD,IAAI;IACJ,SAAI,GAAJC,IAAI;EAEvB;EAEAC,GAAG,CAAIC,IAAY,EAAEC,SAAqB,IAAIT,UAAU,EAAE;IACxD,OAAO,IAAI,CAACK,IAAI,CACbE,GAAG,CAAc,GAAGR,WAAW,CAACW,OAAO,GAAGF,IAAI,EAAE,EAAE;MAACC;IAAM,CAAC,CAAC,CAC3DE,IAAI,CAACV,UAAU,CAAC,IAAI,CAACK,IAAI,CAACM,UAAU,CAAC,CAAC,CACtCD,IAAI,CAACT,GAAG,CAACW,QAAQ,IAAG;MACnB,IAAI,CAACP,IAAI,CAACQ,WAAW,CAACD,QAAQ,CAAC;MAC/B,OAAOA,QAAQ,CAACE,IAAI;IACtB,CAAC,CAAC,CAAC;EACP;EAEAC,GAAG,CAAIR,IAAY,EAAES,OAAe,EAAE;IACpC,OAAO,IAAI,CAACZ,IAAI,CAACW,GAAG,CAClB,GAAGjB,WAAW,CAACW,OAAO,GAAGF,IAAI,EAAE,EAC/BU,IAAI,CAACC,SAAS,CAACF,IAAI,CAAC,CACrB,CAACN,IAAI,CAACV,UAAU,CAAC,IAAI,CAACK,IAAI,CAACM,UAAU,CAAC,CAAC,CACtCD,IAAI,CAACT,GAAG,CAACW,QAAQ,IAAG;MACnB,IAAI,CAACP,IAAI,CAACQ,WAAW,CAACD,QAAQ,CAAC;MAC/B,OAAOA,QAAQ,CAACE,IAAI;IACtB,CAAC,CAAC,CAAC;EACN;EAEAK,IAAI,CAAIZ,IAAY,EAAES,OAAe,EAAE;IACrC,OAAO,IAAI,CAACZ,IAAI,CAACe,IAAI,CACnB,GAAGrB,WAAW,CAACW,OAAO,GAAGF,IAAI,EAAE,EAC/BU,IAAI,CAACC,SAAS,CAACF,IAAI,CAAC,CACrB,CAACN,IAAI,CAACV,UAAU,CAAC,IAAI,CAACK,IAAI,CAACM,UAAU,CAAC,CAAC,CACtCD,IAAI,CAACT,GAAG,CAACW,QAAQ,IAAG;MACnB,IAAI,CAACP,IAAI,CAACQ,WAAW,CAACD,QAAQ,CAAC;MAC/B,OAAOA,QAAQ,CAACE,IAAI;IACtB,CAAC,CAAC,CAAC;EACN;EAEAM,MAAM,CAACb,IAAY;IACjB,OAAO,IAAI,CAACH,IAAI,CAACgB,MAAM,CACrB,GAAGtB,WAAW,CAACW,OAAO,GAAGF,IAAI,EAAE,CAChC,CAACG,IAAI,CAACV,UAAU,CAAC,IAAI,CAACK,IAAI,CAACM,UAAU,CAAC,CAAC,CACtCD,IAAI,CAACT,GAAG,CAACW,QAAQ,IAAG;MACnB,IAAI,CAACP,IAAI,CAACQ,WAAW,CAACD,QAAQ,CAAC;MAC/B,OAAOA,QAAQ,CAACE,IAAI;IACtB,CAAC,CAAC,CAAC;EACN;;AA/CWZ,UAAU;mBAAVA,UAAU;AAAA;AAAVA,UAAU;SAAVA,UAAU;EAAAmB,SAAVnB,UAAU;AAAA","names":["environment","HttpParams","catchError","map","ApiService","constructor","http","swal","get","path","params","api_url","pipe","showErrors","response","showMessage","data","put","body","JSON","stringify","post","delete","factory"],"sourceRoot":"","sources":["F:\\Development\\Technical Test\\BCP\\BCP-FrontEnd\\src\\app\\core\\services\\api.service.ts"],"sourcesContent":["import {Injectable} from '@angular/core'\r\nimport {environment} from '../../../environments/enviroment'\r\nimport {HttpClient, HttpParams} from '@angular/common/http'\r\nimport {catchError, map, Observable} from 'rxjs'\r\nimport {Response} from '../models'\r\nimport {SwalService} from \"./swal.service\";\r\n\r\n@Injectable()\r\nexport class ApiService {\r\n  constructor(\r\n    private readonly http: HttpClient,\r\n    private readonly swal: SwalService\r\n  ) {\r\n  }\r\n\r\n  get<T>(path: string, params: HttpParams = new HttpParams()): Observable<T> {\r\n    return this.http\r\n      .get<Response<T>>(`${environment.api_url}${path}`, {params})\r\n      .pipe(catchError(this.swal.showErrors))\r\n      .pipe(map(response => {\r\n        this.swal.showMessage(response)\r\n        return response.data\r\n      }))\r\n  }\r\n\r\n  put<T>(path: string, body: Object = {}): Observable<T> {\r\n    return this.http.put<Response<T>>(\r\n      `${environment.api_url}${path}`,\r\n      JSON.stringify(body)\r\n    ).pipe(catchError(this.swal.showErrors))\r\n     .pipe(map(response => {\r\n       this.swal.showMessage(response)\r\n       return response.data\r\n     }))\r\n  }\r\n\r\n  post<T>(path: string, body: Object = {}): Observable<T> {\r\n    return this.http.post<Response<T>>(\r\n      `${environment.api_url}${path}`,\r\n      JSON.stringify(body)\r\n    ).pipe(catchError(this.swal.showErrors))\r\n     .pipe(map(response => {\r\n       this.swal.showMessage(response)\r\n       return response.data\r\n     }))\r\n  }\r\n\r\n  delete(path: string): Observable<string> {\r\n    return this.http.delete<Response<string>>(\r\n      `${environment.api_url}${path}`\r\n    ).pipe(catchError(this.swal.showErrors))\r\n     .pipe(map(response => {\r\n       this.swal.showMessage(response)\r\n       return response.data\r\n     }))\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}